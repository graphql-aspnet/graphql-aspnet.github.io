<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/performance">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Benchmarks &amp; Performance | GraphQL ASP.NET</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://graphql-aspnet.github.io/docs/reference/performance"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Benchmarks &amp; Performance | GraphQL ASP.NET"><meta data-rh="true" name="description" content="Query Benchmarking"><meta data-rh="true" property="og:description" content="Query Benchmarking"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://graphql-aspnet.github.io/docs/reference/performance"><link data-rh="true" rel="alternate" href="https://graphql-aspnet.github.io/docs/reference/performance" hreflang="en"><link data-rh="true" rel="alternate" href="https://graphql-aspnet.github.io/docs/reference/performance" hreflang="x-default"><script src="https://buttons.github.io/buttons.js" async></script><link rel="stylesheet" href="/assets/css/styles.cbe6f699.css">
<link rel="preload" href="/assets/js/runtime~main.c005d1ef.js" as="script">
<link rel="preload" href="/assets/js/main.664a5bfe.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-128.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-128.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">GraphQL ASP.NET</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/graphql-aspnet/graphql-aspnet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick/create-app">Your First App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick/code-examples">Code Examples</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/what-is-graphql">What is GraphQL?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/made-for-aspnet-developers">Made for ASP.NET Developers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Controllers &amp; Actions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/actions">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/model-state">Model State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/field-paths">Field Paths</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/authorization">Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/type-extensions">Type Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/controllers/batch-operations">Batch Operations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Graph Type Definitions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/objects">Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/input-objects">Input Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/interfaces">Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/unions">Unions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/enums">Enums</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/scalars">Scalars</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/types/list-non-null">List &amp; Non-Null</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/subscriptions">Subscriptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/type-expressions">Type Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/directives">Directives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/custom-scalars">Custom Scalars</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/graph-action-results">Action Results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/multi-schema-support">Multi-Schema Support</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Logging</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/logging/structured-logging">Structured Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/logging/standard-events">Standard Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/logging/subscription-events">Subscription Events</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Query Execution</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/execution/metrics">Query Profiling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/execution/malicious-queries">Malicious Queries</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Development Concerns</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/unit-testing">Unit Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/entity-framework">Entity Framework</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Extensions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-extensions/multipart-requests">File Uploads &amp; Batching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">References</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/how-it-works">How it Works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/schema-configuration">Schema Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/global-configuration">Global Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/attributes">Attributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/graph-controller">GraphController</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/graph-directive">GraphDirective</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/http-processor">HTTP Processor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/middleware">Pipelines &amp; Middleware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/query-cache">Query Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/demo-projects">Demo Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/performance">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/vocabulary">Vocabulary</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">References</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Benchmarks</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Benchmarks &amp; Performance</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-benchmarking">Query Benchmarking<a href="#query-benchmarking" class="hash-link" aria-label="Direct link to Query Benchmarking" title="Direct link to Query Benchmarking">​</a></h2><p>GraphQL ASP.NET is designed to be fast. For our benchmarks, we are tracking a number of query types which measure performance via the various paths through the library; multi controller queries, queries with variables etc. These are executed against an in-memory data store without an attached database. </p><p>The goal of our benchmarks is to measure the library&#x27;s abiliy to process a query in isolation, to perform the query and execute user code; not how long an action method takes to query a database for data and send a request over the wire. Obviously, real world workloads are going to be slower than these theoretical values, but the faster we can make the benchmarks the faster all other scenarios will be.</p><p>As you can see all query types execute in sub-millisecond timeframes. If there is a specific query type or scenario that you are seeing a significant performance degregation with please open an issue on github and let us know! </p><p><img loading="lazy" alt="benchmarks" src="/assets/images/benchmarks-52662cd730b8125900651edb7101250e.png" width="1681" height="880" class="img_ev3q">
<strong>Last Updated 2022-12-01; v0.14.0-beta</strong></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Your Milage May Vary</div><div class="admonitionContent_S0QG"><p> Performance will vary depending on your hardware and environment conditions. You can execute your own test run via the bench marking solution located at <code>./src/graphql-aspnet-benchmarks.sln</code> </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-testing">Performance Testing<a href="#performance-testing" class="hash-link" aria-label="Direct link to Performance Testing" title="Direct link to Performance Testing">​</a></h2><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Run Your Own Performance Tests</div><div class="admonitionContent_S0QG"><p>These performance tests are not intended to be used as data points when determining scaling requirements for your own production workloads. Your use cases will be different and effected by factors not present in our lab environment (e.g. database connections, service orchrestration, business logic etc.). Be sure to execute your own load tests using queries indicative of your expected user base and act accordingly.</p></div></div><p>We periodically execute tests against the library to measure throughput and stability, for a single server instance, under load. Our goal is to measure the theoretical limits in a multi-user, &quot;production like&quot; scenario.</p><p>These tests are executed in a controlled setting with the following conditions:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-configuration-and-specs">Test Configuration and Specs<a href="#test-configuration-and-specs" class="hash-link" aria-label="Direct link to Test Configuration and Specs" title="Direct link to Test Configuration and Specs">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-aspnet-server">GraphQL ASP.NET Server:<a href="#graphql-aspnet-server" class="hash-link" aria-label="Direct link to GraphQL ASP.NET Server:" title="Direct link to GraphQL ASP.NET Server:">​</a></h4><ul><li>source code: <code>./src/ancillary-projects/benchmarking/graphql-aspnet-load-server/</code></li><li>.NET 7 Runtime</li><li>Garbage collection executing in <a href="https://learn.microsoft.com/en-us/dotnet/core/runtime-config/garbage-collector#workstation-vs-server" target="_blank" rel="noopener noreferrer">server mode</a></li><li>Local area, wired, gigabit network</li><li>Simple queries to fetch or mutate a single, in-memory object</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="memory-profiling-load">Memory Profiling Load:<a href="#memory-profiling-load" class="hash-link" aria-label="Direct link to Memory Profiling Load:" title="Direct link to Memory Profiling Load:">​</a></h4><ul><li>JMeter script: <code>graphql-memory-profiling.jmx</code></li><li>15 concurrent users executing a graphql query to fetch a single object</li><li>Each user executes 10,000 requests at most 30ms apart</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-load">GraphQL Load:<a href="#graphql-load" class="hash-link" aria-label="Direct link to GraphQL Load:" title="Direct link to GraphQL Load:">​</a></h4><ul><li>JMeter script: <code>graphql-load-generator.jmx</code></li><li>300 concurrent users executing a graphql query to fetch a single object</li><li>300 concurrent users executing a graphql mutation (and raising a subscription event)</li><li>Each user executes 10,000 requests at most 30ms apart</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="subscription-client-load">Subscription Client Load:<a href="#subscription-client-load" class="hash-link" aria-label="Direct link to Subscription Client Load:" title="Direct link to Subscription Client Load:">​</a></h4><ul><li>Source Code: <code>~coming soon~</code></li><li>A custom console app that registers subscribers to receive subscription events generated via the Load Generating Workstation mutations</li><li>500 connected subscription clients</li><li>2 registered subscription per client (1000 total client subscriptions)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rest-load">REST Load:<a href="#rest-load" class="hash-link" aria-label="Direct link to REST Load:" title="Direct link to REST Load:">​</a></h4><ul><li>JMeter script: <code>rest-load-generator.jmx</code></li><li>300 concurrent users executing a REST Query that fetches a single object</li><li>300 concurrent users executing a REST Query that mutates and returns a single object</li><li>Each user executes 10,000 requests at most 15ms apart</li><li>This workload acts as a control to compare performance of the baseline web api against the overhead of the graphql library</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-max-throughput-load">GraphQL Max Throughput Load:<a href="#graphql-max-throughput-load" class="hash-link" aria-label="Direct link to GraphQL Max Throughput Load:" title="Direct link to GraphQL Max Throughput Load:">​</a></h4><ul><li>JMeter script: <code>graphql-max-load-generator.jmx</code></li><li>Starts 20 new users each second until failure</li><li>Each user executes a query every 0-15ms until failure</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-profile-test">Memory Profile Test<a href="#memory-profile-test" class="hash-link" aria-label="Direct link to Memory Profile Test" title="Direct link to Memory Profile Test">​</a></h3><p>A qualitative test executed with the server instance running in release mode, harnessed via <code>dotMemory</code>. Given the artificial environment restrictions this imposes its difficult to pin down exact KPIs but in general this test is used to monitor:</p><table><thead><tr><th>Metric</th><th>Expectations</th></tr></thead><tbody><tr><td>Memory Allocation</td><td>Expect to see steady Gen0 allocation over time, with no extreme spikes.</td></tr><tr><td>Object Survival</td><td>Expect to see little to no objects surviving to Gen1 and Gen2 heap collections per GC cycle. When the test completes, the server returns to a steady state of memory usage prior to the test beginning.</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Goal</div><div class="admonitionContent_S0QG"><p> The aim of this test is to ensure acceptable memory pressure and GC cycles on the server instance in a controlled usage scenario and ensure no memory leaks occur. </p></div></div><p><strong>Results</strong></p><table><thead><tr><th>Date</th><th>Version</th><th></th></tr></thead><tbody><tr><td>2022-11-30</td><td>v0.13.1-beta</td><td>Execution is consistant. While no objects make it to Gen1 or Gen2 a GC cycle occurs about every 20 seconds.</td></tr><tr><td>2022-11-30</td><td>v0.14.0-beta</td><td>Similar results to the v0.13.1-beta test in terms of generational memory allocations. There is a notable decrease in memory pressure. Time between GC cycles has improved to once every 33 seconds; a 65% increase in duration.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-usage-load-test">General Usage Load Test<a href="#general-usage-load-test" class="hash-link" aria-label="Direct link to General Usage Load Test" title="Direct link to General Usage Load Test">​</a></h3><p>A test with the server executing in release mode, WITHOUT the subscription server attached and with monitoring via passive <code>dotnet-counters</code>. This test measures the throughput of queries and mutations through the runtime as well as the load those queries place on the server CPU. Using GraphQL (as opposed to REST) will generate some additional overhead to parse and execute the query on top of the REST request which invokes it. As a result, the metrics of this test are expressed in terms of % increases over a comperable REST workload via a baseline ASP.NET web api controller. </p><table><thead><tr><th>Metric</th><th>Expectations</th></tr></thead><tbody><tr><td>CPU Utilization</td><td>Using <a href="https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer" target="_blank" rel="noopener noreferrer">Process Explorer</a> to measure utilization, no more than a 5% increase when compared to the REST control load.</td></tr><tr><td>GC % Time</td><td>Using the metrics obtained via <a href="https://learn.microsoft.com/en-us/dotnet/core/diagnostics/dotnet-counters" target="_blank" rel="noopener noreferrer">dotnet-counters</a> expect that the GC % time is within 1% of the REST control load</td></tr><tr><td>Throughput (req/sec)</td><td>Throughput, measured in requests per second, is within 10% of the peak load generated via the REST control load</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Goal</div><div class="admonitionContent_S0QG"><p> The aim of this test is to ensure adequate single instance throughput and that the overhead for using graphql on top of web api is kept to a minimum.</p></div></div><p><strong>Results</strong></p><table><thead><tr><th>Date</th><th>Version</th><th>Metric</th><th>REST Workload</th><th>GraphQL Workload</th><th>Variance</th></tr></thead><tbody><tr><td>2022-11-30</td><td>v0.13.1-beta</td><td>CPU Utilization</td><td>0.01-2%</td><td>2-9%</td><td><span style="color:red"> +7% </span></td></tr><tr><td></td><td></td><td>GC % Time</td><td>&lt; 1%</td><td>2-4%</td><td><span style="color:red">+3% </span></td></tr><tr><td></td><td></td><td>Throughput</td><td>37,490 req/sec</td><td>29,830 req/sec</td><td><span style="color:red">-8k (-20%) </span></td></tr><tr><td>2022-12-1</td><td>v0.14.0-beta</td><td>CPU Utilization</td><td>0.01-2%</td><td>1-3%</td><td><span style="color:green"> +1% </span></td></tr><tr><td></td><td></td><td>GC % Time</td><td>&lt; 1%</td><td>&lt; 1%</td><td><span style="color:green">+0% </span></td></tr><tr><td></td><td></td><td>Throughput</td><td>37,360 req/sec</td><td>36,509 req/sec</td><td><span style="color:green">-2k (-2.3%)</span></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max-throughput-test">Max Throughput Test<a href="#max-throughput-test" class="hash-link" aria-label="Direct link to Max Throughput Test" title="Direct link to Max Throughput Test">​</a></h3><p>A simple test flooding the server with an ever-increasing amount of traffic until it begins to deny requests or fails completely. The throughput of each loading client is summed just prior to failure and recorded as the max throughput.</p><p><strong>Results</strong></p><table><thead><tr><th>Date</th><th>Version</th><th>Metric</th><th>GraphQL Query</th></tr></thead><tbody><tr><td>2022-12-1</td><td>v0.14.0-beta</td><td>Max Throughput</td><td><span style="color:cyan"> 57,919 req/sec * </span></td></tr></tbody></table><p>*<!-- --> We ran out of client machines and could not generate any more load against the test server. At the time, the server process indicated 5% CPU utilization and less than 750mb of committed memory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscription-event-load-test">Subscription Event Load Test<a href="#subscription-event-load-test" class="hash-link" aria-label="Direct link to Subscription Event Load Test" title="Direct link to Subscription Event Load Test">​</a></h3><p><em>Coming Soon</em></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/demo-projects"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demo Projects</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/vocabulary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vocabulary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#query-benchmarking" class="table-of-contents__link toc-highlight">Query Benchmarking</a></li><li><a href="#performance-testing" class="table-of-contents__link toc-highlight">Performance Testing</a><ul><li><a href="#test-configuration-and-specs" class="table-of-contents__link toc-highlight">Test Configuration and Specs</a></li><li><a href="#memory-profile-test" class="table-of-contents__link toc-highlight">Memory Profile Test</a></li><li><a href="#general-usage-load-test" class="table-of-contents__link toc-highlight">General Usage Load Test</a></li><li><a href="#max-throughput-test" class="table-of-contents__link toc-highlight">Max Throughput Test</a></li><li><a href="#subscription-event-load-test" class="table-of-contents__link toc-highlight">Subscription Event Load Test</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/made-for-aspnet-developers">Made for ASP.NET developers</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/quick/code-examples">Code Examples</a></li></ul></div><div class="col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item">
                <a class="github-button" href="https://github.com/graphql-aspnet/graphql-aspnet" data-size="large" data-show-count="true" aria-label="Star graphql-aspnet/graphql-aspnet on GitHub">
                    Star on Github
                </a>
                </li><li class="footer__item">
                <a class="footer__link-item" href="https://graphql.org" target="_blank" rel="noreferrer noopener" aria-label="GraphQl Org">
                  GraphQL.org
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 GraphQL ASP.NET</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c005d1ef.js"></script>
<script src="/assets/js/main.664a5bfe.js"></script>
</body>
</html>