"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4303],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(6540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},8985:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"reference/graph-controller","title":"Graph Controller","description":"\u2705 See the section on Controllers & Actions for a detailed explination on how action methods work and how to declare them.","source":"@site/docs/reference/graph-controller.md","sourceDirName":"reference","slug":"/reference/graph-controller","permalink":"/docs/reference/graph-controller","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"graph-controller","title":"Graph Controller","sidebar_label":"GraphController","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Attributes","permalink":"/docs/reference/attributes"},"next":{"title":"GraphDirective","permalink":"/docs/reference/graph-directive"}}');var o=r(4848),i=r(8453);const s={id:"graph-controller",title:"Graph Controller",sidebar_label:"GraphController",sidebar_position:4},l=void 0,a={},c=[{value:"ModelState",id:"modelstate",level:2},{value:"Request",id:"request",level:2},{value:"Notable Items on the Request",id:"notable-items-on-the-request",level:3},{value:"User",id:"user",level:2},{value:"Schema",id:"schema",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["\u2705 See the section on ",(0,o.jsx)(n.a,{href:"/docs/controllers/actions",children:"Controllers & Actions"})," for a detailed explination on how action methods work and how to declare them."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"GraphController"}),", from which all of your controllers inherit, is a core object used throughout graphql. This page details some lesser known and lesser used object referenced made available to each controller."]}),"\n",(0,o.jsx)(n.h2,{id:"modelstate",children:"ModelState"}),"\n",(0,o.jsx)(n.p,{children:"The completed model state dictionary contains an entry for each validated parameter."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:"public class CharacterController : GraphController\n{\n    [Query]\n    public IGraphActionResult CreateCharacter(Character characterModel)\n    {\n        // highlight-next-line\n        if(!this.ModelState.IsValid)\n            return this.BadRequest(this.ModelState);\n\n        //...\n    }\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"request",children:"Request"}),"\n",(0,o.jsx)(n.p,{children:"The field request generated via the execution pipeline. It contains all the necessary information used by graphql to resolve the current field."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:"public class CharacterController : GraphController\n{\n    [Query]\n    public IGraphActionResult Hero(Episode episode = Episode.EMPIRE)\n    {\n        // highlight-next-line\n        if(this.Request.Field.IsLeaf)\n        {\n            // ...\n        }\n    }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"notable-items-on-the-request",children:"Notable Items on the Request"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Request.Field"}),": A reference to the graph field definition, on the target schema, for the field currently being resolved."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".TypeExpression"}),": The type expression describing the return value of this field"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".IsLeaf"}),": Indicates whether this field returns a leaf value (enum or scalar) or an object."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".Mode"}),': Indicates the processing mode of this field (Batch or "per item")']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".FieldSource"}),": Indicates what member type generated the field; property, method, action etc."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".DataSource"}),": The source data item being supplied to the field to be resolved."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Request.Items"}),": A collection of key/value pairs accessible to all fields and directives in this individual request pipeline."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"user",children:"User"}),"\n",(0,o.jsxs)(n.p,{children:["The User property contains the ",(0,o.jsx)(n.code,{children:"ClaimsPrincipal"})," created by ASP.NET when this request was authorized."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'public class CharacterController : GraphController\n{\n    [Query]\n    public IGraphActionResult Hero(Episode episode = Episode.EMPIRE)\n    {\n        // highlight-next-line\n        if(this.User.Identity.Name == "DebbieEast")\n        {\n            // ...\n        }\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["See the section on ",(0,o.jsx)(n.a,{href:"/docs/controllers/authorization",children:"authorization"})," for more details on how users are authenticated and authorized to action methods."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"schema",children:"Schema"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Schema"})," property contains a reference to the singleton instance of the schema the current controller is resolving a field for. This object is considered read-only and should not be modified."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:"public class CharacterController : GraphController\n{\n    [Query]\n    public IGraphActionResult Hero(Episode episode = Episode.EMPIRE)\n    {\n        // highlight-next-line\n        IObjectGraphType droidType = this.Schema.KnownTypes.FindGraphType(typeof(Droid), TypeKind.OBJECT);\n        // ...\n    }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);