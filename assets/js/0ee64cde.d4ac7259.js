"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4209],{2582:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"reference/global-configuration","title":"Global Configuration","description":"Global configuration settings affect the entire server instance, they are not restricted to a single schema registration. All global settings are optional and define resonable default values. Use these to fine tune your server environment. You should change any global settings BEFORE calling .AddGraphQL().","source":"@site/docs/reference/global-configuration.md","sourceDirName":"reference","slug":"/reference/global-configuration","permalink":"/docs/reference/global-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"global-configuration","title":"Global Configuration","sidebar_label":"Global Configuration","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Schema Configuration","permalink":"/docs/reference/schema-configuration"},"next":{"title":"Attributes","permalink":"/docs/reference/attributes"}}');var r=t(4848),s=t(8453);const l={id:"global-configuration",title:"Global Configuration",sidebar_label:"Global Configuration",sidebar_position:2},a=void 0,o={},c=[{value:"General",id:"general",level:2},{value:"ControllerServiceLifetime",id:"controllerservicelifetime",level:3},{value:"Subscriptions",id:"subscriptions",level:2},{value:"MaxConcurrentReceiverCount",id:"maxconcurrentreceivercount",level:3},{value:"MaxConnectedClientCount",id:"maxconnectedclientcount",level:3}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Global configuration settings affect the entire server instance, they are not restricted to a single schema registration. All global settings are optional and define resonable default values. Use these to fine tune your server environment. You should change any global settings BEFORE calling ",(0,r.jsx)(n.code,{children:".AddGraphQL()"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Adding Schema Configuration Options"',children:"// -------------------\n// Configure Global Options before calling AddGraphQL\n// -------------------\n\nservices.AddGraphQL();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,r.jsx)(n.h3,{id:"controllerservicelifetime",children:"ControllerServiceLifetime"}),"\n",(0,r.jsx)(n.p,{children:"The configured service lifetime that all discovered controllers and directives will be registered as within the DI container during any schema's setup\nprocess."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"GraphQLServerSettings.ControllerServiceLifetime = ServiceLifetime.Transient;\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Default Value"}),(0,r.jsx)(n.th,{children:"Acceptable Values"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Transient "})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Transient"}),", ",(0,r.jsx)(n.code,{children:"Scoped"}),", ",(0,r.jsx)(n.code,{children:"Singleton"})]})]})})]}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsx)(n.p,{children:"Registering GraphControllers as anything other than transient can cause unexpected behavior and result in unexplained crashes, data loss, data exposure and security issues in some scenarios. Consider restructuring your application before changing this setting. Adjusting this value should be a last resort, not a first option."})}),"\n",(0,r.jsx)(n.h2,{id:"subscriptions",children:"Subscriptions"}),"\n",(0,r.jsx)(n.h3,{id:"maxconcurrentreceivercount",children:"MaxConcurrentReceiverCount"}),"\n",(0,r.jsx)(n.p,{children:"Indicates the maximum number of entities (i.e. client connections) that will receive a raised subscription event on this server instance. If there are more receivers than this configured limit the others are queued and will recieve the event in turn once as others finish processing it."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"GraphQLSubscriptionServerSettings.MaxConcurrentReceiverCount = 500;\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Default Value"}),(0,r.jsx)(n.th,{children:"Acceptable Values"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"500"})}),(0,r.jsx)(n.td,{children:"> 0"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"maxconnectedclientcount",children:"MaxConnectedClientCount"}),"\n",(0,r.jsx)(n.p,{children:"Indicates the maximum number of client connections this server instance will accept, combined, across all schemas. If this limit is reached a new connection will be automatically rejected even if ASP.NET was willing to accept it."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"GraphQLSubscriptionServerSettings.MaxConnectedClientCount = null;\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Default Value"}),(0,r.jsx)(n.th,{children:"Acceptable Values"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:"-not set-"})}),(0,r.jsx)(n.td,{children:"null OR > 0"})]})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Note: By default this value is not set, indicating there is no limit. GraphQL will accept any connection passed by the ASP.NET runtime."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var i=t(6540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);